**量化投资为什么能挣钱**

睡前唠嗑两句。

注:下文的"挣钱"，其实严谨的说法是获取超额收益(即我拿来投资的收益，超出无风险收益率的部分)

量化投资毕竟也是投资的一种，而投资的目的当然是为了挣钱，而不是搞一堆看起来很高大上的因子和模型并且自嗨。于是就有个问题: 量化投资能挣钱吗？如果能，它挣的是来自哪里的钱？

一个想当然的回答是: 量化投资使用了更多的因子和更复杂的模型，定量地对收益率建模，因而能够产生比人更精确的预测值，从而"割了散户的韭菜"(说好听点就是修正定价错误)；而且量化投资全程由机器完成交易，能够克服人性的弱点，也能更灵敏地捕捉到交易机会(尤其是高频交易)。

这个回答看起来天衣无缝，毫无槽点，但我们再仔细想想: 为什么更多的因子和更复杂的模型就能产生更精确的预测值？全程由机器完成的交易，在遇到黑天鹅事件时会不会无法作出正确的反应？高频交易会不会导致收益还不能覆盖手续费？今天先回答第一个问题。

金融学理论中，有个叫有效市场假说的东西。它认为由于市场充斥着精明投资者，在理性人的前提下任何定价错误会在瞬间通过套利的方式得到修正。因此在任何时间点上的价格都是充分反映市场上所有信息的，且价格的变化遵循随机漫步，不可预测。显然如果这个假说是正确的，那就没量化投资什么事了，因为量化投资依靠模型的预测值进行交易。而近年来量化投资越来越火的事实雄辩地打脸了这个假说(当然，这个假说其实早在量化投资风靡之前就被打脸了)

那有效市场假说是怎么被打脸的呢？答案是学者在股票市场上发现了一系列的异象，例如低市盈率股票比高市盈率股票的投资组合的收益率更高(市盈率效应, P/E effect)，小公司效应(small-firm effect)和净市率效应(book-to-market effect)等等，总而言之就是一些容易获取的统计数据，能够预测调整异常风险收益，与有效市场假说相悖。既然这些异象能够有效地预测收益，那我们就可以将代表它们的变量放到模型里，这些变量也就变成了因子。而且因为将它们放到模型里就可以解释上述异象，所以我们叫它们异象因子或$\alpha$因子(因为这些异象能带来显著大于0的，与市场波动无关的$\alpha$收益率)。业界会更加关心异象因子，而还有一类因子叫定价因子(也叫风险因子或$\beta$因子)，它用于解释资产收益率随市场收益率变化的部分(也就是系统性风险)，典型的例子就是市场超额收益率$R_M$。这两类因子其实没有明显的划分，当异象因子失效后，它就自动变成了定价因子。

现在我们至少知道了两件事: 一是异象因子的出现意味着市场是无效的，也就是定价是有错误且可以被把握住的(值得注意的是，定价因子并不否认有效市场假说，因为定价因子所解释的收益，即$\bata$收益，其均值与方差分别是市场收益的均值与方差的$\beta$倍和$\beta^2$倍)；二是一些因子来源于市场异象，能用来解释$\alpha$，举个例子，在CAPM模型中，资产$i$的超额收益率建模如下：

$$R_i = \beta_i R_M + \alpha_i + \epsilon$$其中$R_M$为市场超额收益率, $\epsilon$为残差，经济意义是公司层面的冲击, 是一个噪声 

若市场不存在异象，则收益率的波动能够由市场波动完全解释，则$\alpha_i$应该为0( 正的$\alpha$意味着存在不随着市场波动而变化的无风险超额收益，在有效市场假说下它将迅速地由于套利行为而变成0) ；然而我们发现了导致$\alpha_i$不为零的市场异象，通过将异象因子化加入到模型中，模型被改写成:

$$R_i = \beta_{1i} R_M + \beta_{2i} x_1 + ... + \beta_{ni} x_{n-1} + \alpha_i + \epsilon, 其中x_1, ..., x_{n-1}为异象因子$$

模型里包含的异象因子越多，那么$R_i$可以被$R_M$和$x_1, ... , x_{n-1}$解释的部分也就越多，$\alpha_i$也就越接近0( 即。

现在我们发现，加入的因子越多，确实越有助于解释超额收益率，并且因为解决了模型设定偏误的问题，预测精度也会上升。而且这种更精确的预测值很大程度上是异象因子的功劳，也就是我们通过发现并加入异象因子，获取了它们所带来的$\alpha$收益————这才是挣钱的来源。

但是: 直至目前也没人有把握宣称自己找到了所有市场异象，换言之也就是依靠人来发现$\alpha$因子太低效了。而且依靠线性回归模型这样简陋的工具也无法将因子的作用完全发挥出来(不能拟合参数非线性的情况始终是硬伤)。因此，我们需要借助更先进的工具————机器学习，来帮我们发现更多的因子，并且更好地拟合超额收益率。而这又是另一个话题了。
